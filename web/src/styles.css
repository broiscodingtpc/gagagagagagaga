:root{
  --bg:#07030b;
  --halo:#7c3aed;
  --halo-2:#a78bfa;
  --veil:rgba(124,58,237,.08);
  --glow:rgba(124,58,237,.45);
  --panel:rgba(13,7,22,0.92);
  --border:rgba(124,58,237,0.35);
}

html,body,#root{height:100%; margin:0; padding:0}
*{box-sizing:border-box}
body{
  margin:0;
  background: var(--bg);
  color:#fff;
  overflow:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family: 'Inter', system-ui, -apple-system, 'Courier New', monospace;
}

/* Ambient Particles Effect */
.ambient-particles {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(124,58,237,0.4), transparent),
    radial-gradient(2px 2px at 60% 70%, rgba(167,139,250,0.3), transparent),
    radial-gradient(1px 1px at 50% 50%, rgba(124,58,237,0.5), transparent),
    radial-gradient(1px 1px at 80% 10%, rgba(196,181,253,0.3), transparent),
    radial-gradient(2px 2px at 90% 60%, rgba(124,58,237,0.4), transparent),
    radial-gradient(1px 1px at 33% 80%, rgba(167,139,250,0.3), transparent),
    radial-gradient(1px 1px at 15% 90%, rgba(124,58,237,0.4), transparent);
  background-size: 
    200% 200%, 
    200% 200%, 
    300% 300%,
    250% 250%,
    200% 200%,
    300% 300%,
    250% 250%;
  background-position: 
    0% 0%, 
    100% 100%, 
    50% 50%,
    0% 100%,
    100% 0%,
    30% 70%,
    70% 30%;
  animation: 
    particles1 20s ease-in-out infinite,
    particles2 15s ease-in-out infinite reverse,
    particles3 25s linear infinite;
  opacity: 0.6;
}

@keyframes particles1 {
  0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 0% 100%, 100% 0%, 30% 70%, 70% 30%; }
  50% { background-position: 100% 100%, 0% 0%, 80% 20%, 100% 0%, 0% 100%, 70% 30%, 30% 70%; }
}

@keyframes particles2 {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.8; }
}

@keyframes particles3 {
  from { filter: hue-rotate(0deg); }
  to { filter: hue-rotate(10deg); }
}

/* Code Terminals Background */
.code-terminals{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
  opacity:0.8;
}
.code-box{
  position:absolute;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:8px;
  padding:10px 12px;
  font-size:9px;
  font-family:'Courier New', monospace;
  backdrop-filter:blur(10px);
  max-width:240px;
  max-height:160px;
  overflow:hidden;
  box-shadow:0 0 25px rgba(124,58,237,0.2);
}
.code-box-title{
  color:var(--halo-2);
  font-weight:bold;
  margin-bottom:5px;
  font-size:10px;
  letter-spacing:0.5px;
}
.code-line{
  color:#9ca3af;
  line-height:1.5;
  white-space:nowrap;
  animation:fadeIn 0.3s ease-in;
}
.code-line.success{color:#10b981}
.code-line.warning{color:#f59e0b}
.code-line.error{color:#ef4444}
.code-line.info{color:#3b82f6}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* Chat Overlay - Below Orb */
.chat-overlay{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  z-index:100;
  width:100%;
  max-width:650px;
  padding:0 20px;
}

/* Chat Panel - Enhanced Immersion */
.chat-panel{
  width:100%;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  backdrop-filter:blur(16px) saturate(180%);
  display:flex;
  flex-direction:column;
  box-shadow:
    0 0 60px rgba(124,58,237,0.35),
    inset 0 1px 0 rgba(167,139,250,0.1);
  overflow:hidden;
  position: relative;
  animation: floatIn 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes floatIn {
  from { 
    opacity: 0; 
    transform: translateY(20px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0);
  }
}

.chat-panel::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(135deg, 
    rgba(124,58,237,0.3) 0%,
    transparent 50%,
    rgba(167,139,250,0.3) 100%);
  border-radius: 16px;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.chat-panel:hover::before {
  opacity: 1;
}
.chat-header{
  padding:14px 18px;
  border-bottom:1px solid var(--border);
  font-size:13px;
  font-weight:bold;
  color:var(--halo-2);
  letter-spacing:0.8px;
  text-align:center;
  background:rgba(124,58,237,0.08);
}
.chat-messages{
  max-height:300px;
  overflow-y:auto;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  min-height:200px;
}
.chat-messages::-webkit-scrollbar{width:6px}
.chat-messages::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}
.chat-messages::-webkit-scrollbar-thumb{background:var(--halo);border-radius:3px}
.chat-msg{
  padding:10px 14px;
  border-radius:10px;
  font-size:12px;
  line-height:1.6;
  animation:slideIn 0.3s ease-out;
  max-width:90%;
}
@keyframes slideIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.chat-msg.user{
  background:rgba(124,58,237,0.2);
  border:1px solid rgba(124,58,237,0.4);
  align-self:flex-end;
  color:#e9d5ff;
}
.chat-msg.assistant{
  background:rgba(13,7,22,0.8);
  border:1px solid rgba(124,58,237,0.35);
  align-self:flex-start;
  box-shadow: 0 0 20px rgba(124,58,237,0.15);
  position: relative;
}

.chat-msg.assistant::before {
  content: '';
  position: absolute;
  left: -4px;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 80%;
  background: linear-gradient(180deg, 
    transparent, 
    var(--halo) 50%, 
    transparent);
  border-radius: 2px;
  opacity: 0.6;
}

.chat-msg.assistant pre{
  white-space:pre-wrap;
  word-break:break-word;
  margin:0;
  font-family:'Courier New', monospace;
  font-size:11px;
  color:#d8b4fe;
  text-shadow: 0 0 10px rgba(216,180,254,0.3);
}
.chat-input-wrap{
  padding:14px 16px;
  border-top:1px solid var(--border);
  display:flex;
  gap:10px;
  background:rgba(0,0,0,0.2);
}
.chat-input{
  flex:1;
  background:rgba(0,0,0,0.5);
  border:1px solid var(--border);
  border-radius:10px;
  padding:12px 16px;
  color:#fff;
  font-size:13px;
  font-family: var(--font-sans);
  outline:none;
  transition:all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.3);
}
.chat-input:focus{
  border-color:var(--halo);
  box-shadow:
    0 0 0 3px rgba(124,58,237,0.2),
    0 0 30px rgba(124,58,237,0.2),
    inset 0 2px 8px rgba(0,0,0,0.4);
  background:rgba(0,0,0,0.6);
  transform: translateY(-1px);
}

.chat-input::placeholder {
  color: var(--mnex-purple-light);
  opacity: 0.5;
}
.chat-btn{
  background:linear-gradient(135deg, var(--halo), var(--halo-2));
  border:none;
  border-radius:10px;
  padding:12px 24px;
  color:#fff;
  font-size:13px;
  font-weight:700;
  letter-spacing:0.05em;
  text-transform:uppercase;
  cursor:pointer;
  transition:all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  min-width:80px;
  box-shadow: 
    0 4px 15px rgba(124,58,237,0.3),
    inset 0 1px 0 rgba(255,255,255,0.1);
  position: relative;
  overflow: hidden;
}

.chat-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transform: translate(-50%, -50%);
  transition: width 0.5s, height 0.5s;
}

.chat-btn:hover:not(:disabled){
  background:linear-gradient(135deg, var(--halo-2), #c4b5fd);
  box-shadow:
    0 6px 25px rgba(124,58,237,0.6),
    0 0 40px rgba(124,58,237,0.4),
    inset 0 1px 0 rgba(255,255,255,0.2);
  transform:translateY(-2px);
}

.chat-btn:hover:not(:disabled)::before {
  width: 300px;
  height: 300px;
  opacity: 0;
}

.chat-btn:active:not(:disabled){
  transform:translateY(0);
}

.chat-btn:disabled{
  opacity:0.4;
  cursor:not-allowed;
  filter: grayscale(0.5);
}
.chat-loader{
  align-self:flex-start;
  padding:10px 14px;
  color:var(--halo-2);
  font-size:12px;
  animation:pulse 1.5s ease-in-out infinite;
}
@keyframes pulse{0%,100%{opacity:0.5}50%{opacity:1}}
.chat-placeholder{
  text-align:center;
  opacity:0.4;
  font-size:11px;
  margin-top:40px;
  color:var(--halo-2);
}

/* Mobile Responsive */
@media(max-width:768px){
  .chat-overlay{
    bottom:10px;
    padding:0 10px;
  }
  .chat-messages{
    max-height:250px;
    min-height:180px;
  }
  .code-box{
    font-size:8px;
    max-width:180px;
    max-height:120px;
    padding:8px 10px;
  }
  .code-box-title{
    font-size:9px;
  }
}

@media(max-width:480px){
  .chat-messages{
    max-height:200px;
    min-height:150px;
    padding:12px;
  }
  .chat-msg{
    font-size:11px;
    padding:8px 12px;
  }
  .chat-input{
    font-size:12px;
    padding:8px 12px;
  }
  .chat-btn{
    padding:8px 16px;
    font-size:12px;
  }
}